{%- capture data_slick_activation -%}
data-slick='{
    {%- if section.settings.autoplay_true -%}
    "autoplay": true,
    "autoplaySpeed": {{ section.settings.autoplay_speed }},
    {%- endif -%} 
    "slidesToScroll": 1,
    "slidesToShow": {{ section.settings.product_column }}, 
    "arrows": true,
    {% if settings.rtl_enable %} "rtl": true,{% endif %} 
    "dots": false,   
    "nextArrow": "<button class=\"slide-arrow prev-arrow\"><i class=\"fal fa-long-arrow-left\"></i></button>", 
    "prevArrow": "<button class=\"slide-arrow next-arrow\"><i class=\"fal fa-long-arrow-right\"></i></button>",
      "responsive":[
          {"breakpoint":992, "settings": {"slidesToShow": {{ section.settings.product_column_lg }}} },
          {"breakpoint":768, "settings": {"slidesToShow": {{ section.settings.product_column_md }}} },
          {"breakpoint":480, "settings": {"slidesToShow": {{ section.settings.product_column_sm }}} }
        ]  
}'
{%- endcapture -%}
<!-- Start Expolre Product Area  -->
   <div  id="section-{{ section.id }}" class="axil-new-arrivals-product-area fullwidth-container flash-sale-area section-gap-80-35">
    <div class="container ml--xxl-0">
      <div class="product-area pb--50"> 
      {% if section.settings.is_section_title %}  
        {% if section.settings.title_layout == 'style_1' %}
          <div class="section-title-border slider-section-title  {% if section.settings.title_icon %} has-title-img {% endif %}">
            {% if section.settings.title != blank %}
              <h2 class="title">{{ section.settings.title }} 
              {% if section.settings.title_icon %}  
              <img src="{{ section.settings.title_icon | img_url:  '60x60' }}"
                alt="{{ section.settings.title_icon.alt | default: shop.name }}"  decoding="async"
                loading="lazy">
              {% endif %}  
              </h2>
            {% endif %}
          </div>
          {% elsif section.settings.title_layout == 'style_2' %}
            {% if section.settings.is_countdown == true %}
              {% assign is_coutdown_start = '<div class="d-md-flex align-items-end flash-sale-section axilcoutdown2">' %}
              {% assign is_coutdown_end = '</div>' %}
            {% else %}
              {% assign is_coutdown_start = '' %}
              {% assign is_coutdown_end = '' %}
            {% endif %}
      
            {{ is_coutdown_start }}
              <div class="section-title-wrapper">
                {% if section.settings.sub_title != blank %}  
                  <span class="title-highlighter highlighter-primary"><i class="far fa-shopping-basket"></i> {{ section.settings.sub_title }} </span>
                {% endif %}
                {% if section.settings.title != blank %}  
                  <h2 class="title">{{ section.settings.title }} </h2>
                {% endif %}
              </div>
      
                {% if section.settings.is_countdown == true %}
                    <div data-time="{{ section.settings.end_time }}" class="sale-countdown countdown"></div>
                {% endif %}
                
                {{ is_coutdown_end }}
          {% endif %}   
        {% endif %}
      
          <div class="axil-slick-slider recently-viwed-activation slick-layout-wrapper--15 axil-slick-angle angle-top-slide"   {% if settings.rtl_enable %} dir="rtl"{% endif %} {{ data_slick_activation }}>
            {% for product in section.settings.product_collection.products limit: section.settings.number_of_products_to_show %}
              <div class="slick-single-layout">
                {% assign layout = 'product-layout-' | append: section.settings.product_layout %}
                {% capture include_snippet %}
                  {% include layout %}
                {% endcapture %}
                {{ include_snippet }}
              </div>
            {% endfor %} 
          </div>
      </div>
    </div>
</div>
<!-- End Expolre Product Area  -->

{%- style -%}

  #section-{{ section.id }}{
    {%- for block in section.blocks -%}
    {%- case block.type -%}
    {%- when 'section_margin' -%}
    margin-top: {{ block.settings.section_margin_top }}px;
    margin-bottom: {{ block.settings.section_margin_bottom }}px;
    {%- when 'section_padding' -%}
    padding-top: {{ block.settings.section_padding_top }}px;
    padding-bottom: {{ block.settings.section_padding_bottom }}px;
    {%- when 'section_background' -%}    
    background: {{ block.settings.section_bg_color }} 
      {%- if block.settings.section_bg_image -%}url("{{ block.settings.section_bg_image | img_url: 'master' }}"){%- endif -%} no-repeat scroll center center / cover;
    {%- endcase -%}
    {%- endfor -%}
  }

  @media (min-width: 768px) and (max-width: 991px) {
    #section-{{ section.id }}{
      {%- for block in section.blocks -%}
      {% case block.type %}
      {%- when 'section_margin' -%}
      margin-top: {{ block.settings.section_margin_top_md }}px;
      margin-bottom: {{ block.settings.section_margin_bottom_md }}px;
      {%- when 'section_padding' -%}
      padding-top: {{ block.settings.section_padding_top_md }}px;
      padding-bottom: {{ block.settings.section_padding_bottom_md }}px;
      {%- endcase -%}
      {%- endfor -%}
    }
  }

  @media (max-width: 767px) {
    #section-{{ section.id }}{
      {%- for block in section.blocks -%}
      {%- case block.type -%}
      {%- when 'section_margin' -%}
      margin-top: {{ block.settings.section_margin_top_xs }}px;
      margin-bottom: {{ block.settings.section_margin_bottom_xs }}px;
      {%- when 'section_padding' -%}
      padding-top: {{ block.settings.section_padding_top_xs }}px;
      padding-bottom: {{ block.settings.section_padding_bottom_xs }}px;
      {%- endcase -%}
      {%- endfor -%}
    }
  }
 
{%- endstyle -%}

{% schema %}
{
  "name": "RS Product Carousel",
  "settings": [
    {
      "type": "checkbox",
      "id": "is_section_title",
      "label": "Enable Section Title"
    },
    {
      "type": "select",
      "id": "title_layout",
      "label": "Title Layout",
      "options": [
        {
          "label": "Layout 1",
          "value": "style_1"
        },
        {
          "label": "Layout 2",
          "value": "style_2"
        }
       
      ]
    }, 
    {
      "type": "text",
      "id": "title",
      "default": "New Arrivals",
      "label": "Title",
      "info": "Ttile Layout 1 & 2"
    },
    {
      "type": "text",
      "id": "sub_title",
      "default": "Recently Viewed",
      "label": "Sub Title",
      "info": "Ttile Layout 2"
    },
    {
      "type": "checkbox",
      "id": "is_countdown",
      "label": "Disable Countdown",
      "info": "Ttile Layout 2"
    },
    {
      "type": "text",
      "id": "end_time",
      "label": "End date and time",
      "default": "2024-05-22",
      "info": "Format: yyyy-mm-dd",
      "info": "Ttile Layout 2"
    },
    
    {
      "type": "image_picker",
      "id": "title_icon",
      "label": "Title Icon",
      "info": "Recommended Size: 60 x 60px",
      "info": "Ttile Layout 1"
    },
    {
      "type": "collection",
      "id": "product_collection", 
      "label": "Collection"
    },
    
    {
      "type": "range",
      "id": "number_of_products_to_show",
      "min": 1,
      "max": 12,
      "step": 1,
      "default": 8,
      "label": "Number of products to show"
    }, 
    {
      "type": "product_list",
      "id": "excluded_products",
      "label": "Product To Exclude"
    }, 
    {
      "type": "number",
      "id": "offset_product",
      "label": "Offset"
    }, 
    {
      "type": "select",
      "id": "sort_by",
      "label": "Sort By",
      "options": [
        {
          "label": "Name",
          "value": "title"
        }, {
          "label": "Price",
          "value": "price"
        }, {
          "label": "Date",
          "value": "published_at"
        }
      ],
      "default": "title"
    }, 
    {
      "type": "checkbox",
      "id": "reverse_order",
      "label": "Reverse Order"
    },
    {
      "type": "select",
      "id": "product_layout",
      "label": "Product Collection Layout",
      "options": [
        {
          "label": "Layout 1",
          "value": "1"
        },
        {
          "label": "Layout 2",
          "value": "2"
        },
        {
          "label": "Layout 3",
          "value": "3"
        },
        {
          "label": "Layout 4",
          "value": "4"
        }, {
          "label": "Layout 5",
          "value": "5"
        }, {
          "label": "Layout 6",
          "value": "6"
        }, {
          "label": "Layout 7",
          "value": "7"
        }, {
          "label": "Layout 8",
          "value": "8"
        }
      ]
    },
    {
      "type": "header",
      "content": "Slider Options"
    },
    {
      "type": "checkbox",
      "id": "autoplay_true",
      "label": "Autoplay Enable",
      "default": false
    },
    {
      "type": "range",
      "id": "autoplay_speed",
      "min": 1000,
      "max": 9000,
      "step": 1000,
      "label": "Autoplay Speed",
      "unit": "ms",
      "default": 5000
    },
    {
      "type": "header",
      "content": "Product Carousel Column"
    },
    {
      "type": "range",
      "id": "product_column",
      "min": 1,
      "max": 12,
      "step": 1,
      "label": "Desktop",
      "default": 4
    },
    {
      "type": "range",
      "id": "product_column_lg",
      "min": 1,
      "max": 12,
      "step": 1,
      "label": "Laptop",
      "default": 3
    },
    {
      "type": "range",
      "id": "product_column_md",
      "min": 1,
      "max": 12,
      "step": 1,
      "label": "Tablet",
      "default": 3
    },
    {
      "type": "range",
      "id": "product_column_sm",
      "min": 1,
      "max": 12,
      "step": 1,
      "label": "Mobile",
      "default": 2
    } 
  ],
  "blocks": [ 
    {
      "type": "section_padding",
      "name": "Section Padding",
      "limit": 1,
      "settings": [
        {
          "type": "header",
          "content": "Large/Desktop Device"
        },
        {
          "type": "range",
          "id": "section_padding_top",
          "min": 0,
          "max": 100,
          "step": 2,
          "label": "Padding Top",
          "unit": "px",
          "default": 60
        },
        {
          "type": "range",
          "id": "section_padding_bottom",
          "min": 0,
          "max": 100,
          "step": 2,
          "label": "Padding Bottom",
          "unit": "px",
          "default": 60
        },
        {
          "type": "header",
          "content": "Tablet Device"
        },
        {
          "type": "range",
          "id": "section_padding_top_md",
          "min": 0,
          "max": 100,
          "step": 2,
          "label": "Padding Top",
          "unit": "px",
          "default": 46
        },
        {
          "type": "range",
          "id": "section_padding_bottom_md",
          "min": 0,
          "max": 100,
          "step": 2,
          "label": "Padding Bottom",
          "unit": "px",
          "default": 46
        },
        {
          "type": "header",
          "content": "Mobile Device"
        },
        {
          "type": "range",
          "id": "section_padding_top_xs",
          "min": 0,
          "max": 100,
          "step": 2,
          "label": "Padding Top",
          "unit": "px",
          "default": 46
        },
        {
          "type": "range",
          "id": "section_padding_bottom_xs",
          "min": 0,
          "max": 100,
          "step": 2,
          "label": "Padding Bottom",
          "unit": "px",
          "default": 46
        }
      ]
    },
    {
      "type": "section_margin",
      "name": "Section Margin",
      "limit": 1,
      "settings": [
        {
          "type": "header",
          "content": "Large/Desktop Device"
        },
        {
          "type": "range",
          "id": "section_margin_top",
          "min": 0,
          "max": 100,
          "step": 2,
          "label": "Margin Top",
          "unit": "px",
          "default": 0
        },
        {
          "type": "range",
          "id": "section_margin_bottom",
          "min": 0,
          "max": 100,
          "step": 2,
          "label": "Margin Bottom",
          "unit": "px",
          "default": 0
        },
        {
          "type": "header",
          "content": "Tablet Device"
        },
        {
          "type": "range",
          "id": "section_margin_top_md",
          "min": 0,
          "max": 100,
          "step": 2,
          "label": "Margin Top",
          "unit": "px",
          "default": 0
        },
        {
          "type": "range",
          "id": "section_margin_bottom_md",
          "min": 0,
          "max": 100,
          "step": 2,
          "label": "Margin Bottom",
          "unit": "px",
          "default": 0
        },
        {
          "type": "header",
          "content": "Mobile Device"
        },
        {
          "type": "range",
          "id": "section_margin_top_xs",
          "min": 0,
          "max": 100,
          "step": 2,
          "label": "Margin Top",
          "unit": "px",
          "default": 0
        },
        {
          "type": "range",
          "id": "section_margin_bottom_xs",
          "min": 0,
          "max": 100,
          "step": 2,
          "label": "Margin Bottom",
          "unit": "px",
          "default": 0
        }
      ]
    },
    {
      "type": "section_background",
      "name": "Section Background",
      "limit": 1,
      "settings": [
        {
          "type": "image_picker",
          "id": "section_bg_image",
          "label": "BG Image"
        },
        {
          "type": "color",
          "id": "section_bg_color",
          "label": "BG Color",
          "default": "#ffffff"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "RS Product Carousel",
      "blocks": [
        {
          "type": "section_padding"
        }
      ]
    }
  ]
}
{% endschema %}