{% if settings.apikey != blank %}
    <div class="{{ section.settings.container }}{% if section.settings.container == 'w-full' %} p-0{% endif %}" style="margin-bottom: 100px;">
        {% render 'section-heding' %}
        <div class="row g-0">
            <div class="col-12">
                <div class="location_map_{{ section.settings.map_height }}" id="map-{{ section.id }}"></div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        jQuery(document).ready(function($) {
            var map = new google.maps.Map(document.getElementById('map-{{ section.id }}'), {
                center: {lat: {{ section.settings.textx }}, lng: {{ section.settings.texty }} },
                zoom: {{ section.settings.zoom }},
                styles:
                    [
                        {"featureType": "administrative", "elementType": "labels.text.fill", "stylers": [{"color": "#444444"}]},
                        {"featureType": "landscape", "elementType": "all", "stylers": [{"color": "#f2f2f2"}]},
                        {"featureType": "poi", "elementType": "all", "stylers": [{"visibility": "off"}]},
                        {"featureType": "road", "elementType": "all", "stylers": [{"saturation": -100}, {"lightness": 45}]},
                        {"featureType": "road.highway", "elementType": "all","stylers": [{"visibility": "simplified"}]},
                        {"featureType": "road.arterial", "elementType": "labels.icon", "stylers": [{"visibility": "off"}]},
                        {"featureType": "transit","elementType": "all","stylers": [{"visibility": "off"}]},
                        {"featureType": "water","elementType": "all","stylers": [{"color": "#f1f1f1"},{"visibility": "on"}]}
                    ]
            });
            var marker = new google.maps.Marker({
                position: new google.maps.LatLng({{ section.settings.textx }}, {{ section.settings.texty }}),
                map: map,
            });
            var infowindow = new google.maps.InfoWindow ({
                content: ('contentString')
            });
            marker.addListener('click', function() {
                infowindow.open(map, marker);
            });
        });
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key={{ settings.apikey }}" defer="defer"></script>
    {% else %}
    {{ 'lifestyle-2' | placeholder_svg_tag: 'bt-placeholder-svg w-100 h-100 mb-5' }}
{% endif %}
{% schema %}
{
  "name": "t:sections.maps.name",
  "disabled_on": {
    "groups": [
      "header",
      "footer"
    ]
  },
  "settings": [
    {
      "type": "paragraph",
      "content": "Go to: \"Theme settings > Integration\" to update Goole Map token"
    },
    {
      "type": "header",
      "content": "t:sections.slideshow.settings.label"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "t:sections.slideshow.blocks.slide.settings.heading.label"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "t:sections.slideshow.blocks.slide.settings.subheading.label"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "t:sections.featured-collection.settings.description.label"
    },
    {
      "type": "select",
      "id": "header_alignment",
      "label": "t:sections.slideshow.settings.text_alignment.name",
      "default": "center",
      "options": [
        {
          "value": "start",
          "label": "t:sections.slideshow.settings.text_alignment.options__1.label"
        },
        {
          "value": "center",
          "label": "t:sections.slideshow.settings.text_alignment.options__2.label"
        },
        {
          "value": "end",
          "label": "t:sections.slideshow.settings.text_alignment.options__3.label"
        }
      ]
    },
    {
      "type": "select",
      "id": "container",
      "label": "t:sections.all.container.name",
      "options": [
        {
          "value": "container-fluid",
          "label": "t:sections.all.container.option1"
        },
        {
          "value": "container-full-width",
          "label": "t:sections.all.container.option2"
        },
        {
          "value": "container-xxl",
          "label": "t:sections.all.container.option3"
        }
      ],
      "default": "container-fluid"
    },
    {
      "type": "header",
      "content": "t:sections.maps.mapsettings"
    },
    {
      "type": "select",
      "id": "map_height",
      "label": "t:sections.maps.maps-height",
      "default": "medium",
      "options": [
        {
          "value": "small",
          "label": "t:sections.image-with-text.blocks.caption.settings.caption_size.options__1.label"
        },
        {
          "value": "medium",
          "label": "t:sections.image-with-text.blocks.caption.settings.caption_size.options__2.label"
        },
        {
          "value": "large",
          "label": "t:sections.image-with-text.blocks.caption.settings.caption_size.options__3.label"
        }
      ]
    },
    {
      "type": "paragraph",
      "content": "t:sections.maps.content"
    },
    {
      "type": "text",
      "id": "textx",
      "label": "t:sections.maps.label",
      "default": "51.508530",
      "info": "t:sections.maps.info"
    },
    {
      "type": "text",
      "id": "texty",
      "label": "t:sections.maps.label2",
      "default": "0.076132",
      "info": "t:sections.maps.info"
    },
    {
      "type": "text",
      "id": "zoom",
      "label": "t:sections.maps.zoom",
      "default": "13",
      "info": "t:sections.maps.info"
    },
    {
      "type": "textarea",
      "id": "text2",
      "label": "t:sections.maps.maptext",
      "default": "New York"
    }
  ],
  "presets": [
    {
      "name": "t:sections.maps.name"
    }
  ]
}
{% endschema %}